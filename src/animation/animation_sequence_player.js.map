{"version":3,"sources":["../../../../../modules/@angular/core/src/animation/animation_sequence_player.ts"],"names":[],"mappings":"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","file":"animation_sequence_player.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isPresent, scheduleMicroTask} from '../facade/lang';\n\nimport {AnimationPlayer, NoOpAnimationPlayer} from './animation_player';\nexport class AnimationSequencePlayer implements AnimationPlayer {\nprivate _currentIndex: number = 0;\nprivate _activePlayer: AnimationPlayer;\nprivate _onDoneFns: Function[] = [];\nprivate _onStartFns: Function[] = [];\nprivate _finished = false;\nprivate _started = false;\nprivate _destroyed = false;\npublic parentPlayer: AnimationPlayer = null;\n/**\n * @param {?} _players\n */\nconstructor(private _players: AnimationPlayer[]) {\n    this._players.forEach(player => { player.parentPlayer = this; });\n    this._onNext(false);\n  }\n/**\n * @param {?} start\n * @return {?}\n */\nprivate _onNext(start: boolean) {\n    if (this._finished) return;\n\n    if (this._players.length == 0) {\n      this._activePlayer = new NoOpAnimationPlayer();\n      scheduleMicroTask(() => this._onFinish());\n    } else if (this._currentIndex >= this._players.length) {\n      this._activePlayer = new NoOpAnimationPlayer();\n      this._onFinish();\n    } else {\n      const /** @type {?} */ player = this._players[this._currentIndex++];\n      player.onDone(() => this._onNext(true));\n\n      this._activePlayer = player;\n      if (start) {\n        player.play();\n      }\n    }\n  }\n/**\n * @return {?}\n */\nprivate _onFinish() {\n    if (!this._finished) {\n      this._finished = true;\n      this._onDoneFns.forEach(fn => fn());\n      this._onDoneFns = [];\n    }\n  }\n/**\n * @return {?}\n */\ninit(): void { this._players.forEach(player => player.init()); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonStart(fn: () => void): void { this._onStartFns.push(fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDone(fn: () => void): void { this._onDoneFns.push(fn); }\n/**\n * @return {?}\n */\nhasStarted() { return this._started; }\n/**\n * @return {?}\n */\nplay(): void {\n    if (!isPresent(this.parentPlayer)) {\n      this.init();\n    }\n    if (!this.hasStarted()) {\n      this._onStartFns.forEach(fn => fn());\n      this._onStartFns = [];\n      this._started = true;\n    }\n    this._activePlayer.play();\n  }\n/**\n * @return {?}\n */\npause(): void { this._activePlayer.pause(); }\n/**\n * @return {?}\n */\nrestart(): void {\n    this.reset();\n    if (this._players.length > 0) {\n      this._players[0].restart();\n    }\n  }\n/**\n * @return {?}\n */\nreset(): void {\n    this._players.forEach(player => player.reset());\n    this._destroyed = false;\n    this._finished = false;\n    this._started = false;\n  }\n/**\n * @return {?}\n */\nfinish(): void {\n    this._onFinish();\n    this._players.forEach(player => player.finish());\n  }\n/**\n * @return {?}\n */\ndestroy(): void {\n    if (!this._destroyed) {\n      this._onFinish();\n      this._players.forEach(player => player.destroy());\n      this._destroyed = true;\n      this._activePlayer = new NoOpAnimationPlayer();\n    }\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nsetPosition(p: number): void { this._players[0].setPosition(p); }\n/**\n * @return {?}\n */\ngetPosition(): number { return this._players[0].getPosition(); }\n/**\n * @return {?}\n */\nget players(): AnimationPlayer[] { return this._players; }\n}\n\nfunction AnimationSequencePlayer_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationSequencePlayer.prototype._currentIndex;\n/** @type {?} */\nAnimationSequencePlayer.prototype._activePlayer;\n/** @type {?} */\nAnimationSequencePlayer.prototype._onDoneFns;\n/** @type {?} */\nAnimationSequencePlayer.prototype._onStartFns;\n/** @type {?} */\nAnimationSequencePlayer.prototype._finished;\n/** @type {?} */\nAnimationSequencePlayer.prototype._started;\n/** @type {?} */\nAnimationSequencePlayer.prototype._destroyed;\n/** @type {?} */\nAnimationSequencePlayer.prototype.parentPlayer;\n/** @type {?} */\nAnimationSequencePlayer.prototype._players;\n}\n\n"]}