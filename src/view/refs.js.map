{"version":3,"sources":["../../../../../modules/@angular/core/src/view/refs.ts"],"names":[],"mappings":"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","file":"refs.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isDevMode} from '../application_ref';\nimport {ChangeDetectorRef} from '../change_detection/change_detection';\nimport {Injectable, Injector} from '../di';\nimport {ComponentFactory, ComponentRef} from '../linker/component_factory';\nimport {ElementRef} from '../linker/element_ref';\nimport {TemplateRef} from '../linker/template_ref';\nimport {ViewContainerRef} from '../linker/view_container_ref';\nimport {EmbeddedViewRef, ViewRef} from '../linker/view_ref';\nimport * as v1renderer from '../render/api';\nimport {Sanitizer, SecurityContext} from '../security';\nimport {Type} from '../type';\n\nimport {DirectDomRenderer, LegacyRendererAdapter} from './renderer';\nimport {ArgumentType, BindingType, DebugContext, DepFlags, ElementData, NodeCheckFn, NodeData, NodeDef, NodeType, RendererV2, RootData, Services, ViewData, ViewDefinition, ViewDefinitionFactory, ViewState, asElementData, asProviderData} from './types';\nimport {findElementDef, isComponentView, parentDiIndex, renderNode, resolveViewDefinition, rootRenderNodes, tokenKey} from './util';\n\nconst /** @type {?} */ EMPTY_CONTEXT = new Object();\n/**\n * @param {?} selector\n * @param {?} componentType\n * @param {?} viewDefFactory\n * @return {?}\n */\nexport function createComponentFactory(\n    selector: string, componentType: Type<any>,\n    viewDefFactory: ViewDefinitionFactory): ComponentFactory<any> {\n  return new ComponentFactory_(selector, componentType, viewDefFactory);\n}\nclass ComponentFactory_ implements ComponentFactory<any> {\n  /**\n   * We are not renaming this field as the old ComponentFactory is using it.\n   * @internal */\n  _viewClass: any;\n/**\n * @param {?} selector\n * @param {?} componentType\n * @param {?} _viewDefFactory\n */\nconstructor(\npublic selector: string,\npublic componentType: Type<any>,\n      _viewDefFactory: ViewDefinitionFactory) {\n    this._viewClass = _viewDefFactory;\n  }\n/**\n * Creates a new component.\n * @param {?} injector\n * @param {?=} projectableNodes\n * @param {?=} rootSelectorOrNode\n * @return {?}\n */\ncreate(\n      injector: Injector, projectableNodes: any[][] = null,\n      rootSelectorOrNode: string|any = null): ComponentRef<any> {\n    const /** @type {?} */ viewDef = resolveViewDefinition(this._viewClass);\n    let /** @type {?} */ componentNodeIndex: number;\n    const /** @type {?} */ len = viewDef.nodes.length;\n    for (let /** @type {?} */ i = 0; i < len; i++) {\n      const /** @type {?} */ nodeDef = viewDef.nodes[i];\n      if (nodeDef.provider && nodeDef.provider.component) {\n        componentNodeIndex = i;\n        break;\n      }\n    }\n    if (componentNodeIndex == null) {\n      throw new Error(`Illegal State: Could not find a component in the view definition!`);\n    }\n    const /** @type {?} */ view = Services.createRootView(\n        injector, projectableNodes || [], rootSelectorOrNode, viewDef, EMPTY_CONTEXT);\n    const /** @type {?} */ component = asProviderData(view, componentNodeIndex).instance;\n    return new ComponentRef_(view, new ViewRef_(view), component);\n  }\n}\n\nfunction ComponentFactory__tsickle_Closure_declarations() {\n/**\n * We are not renaming this field as the old ComponentFactory is using it.\n * \\@internal\n * @type {?}\n */\nComponentFactory_.prototype._viewClass;\n/** @type {?} */\nComponentFactory_.prototype.selector;\n/** @type {?} */\nComponentFactory_.prototype.componentType;\n}\n\nclass ComponentRef_ implements ComponentRef<any> {\n/**\n * @param {?} _view\n * @param {?} _viewRef\n * @param {?} _component\n */\nconstructor(private _view: ViewData,\nprivate _viewRef: ViewRef,\nprivate _component: any) {}\n/**\n * @return {?}\n */\nget location(): ElementRef { return new ElementRef(asElementData(this._view, 0).renderElement); }\n/**\n * @return {?}\n */\nget injector(): Injector { return new Injector_(this._view, 0); }\n/**\n * @return {?}\n */\nget instance(): any { return this._component; };\n/**\n * @return {?}\n */\nget hostView(): ViewRef { return this._viewRef; };\n/**\n * @return {?}\n */\nget changeDetectorRef(): ChangeDetectorRef { return this._viewRef; };\n/**\n * @return {?}\n */\nget componentType(): Type<any> { return /** @type {?} */(( <any>this._component.constructor)); }\n/**\n * @return {?}\n */\ndestroy(): void { this._viewRef.destroy(); }\n/**\n * @param {?} callback\n * @return {?}\n */\nonDestroy(callback: Function): void { this._viewRef.onDestroy(callback); }\n}\n\nfunction ComponentRef__tsickle_Closure_declarations() {\n/** @type {?} */\nComponentRef_.prototype._view;\n/** @type {?} */\nComponentRef_.prototype._viewRef;\n/** @type {?} */\nComponentRef_.prototype._component;\n}\n\n/**\n * @param {?} view\n * @param {?} elIndex\n * @return {?}\n */\nexport function createViewContainerRef(view: ViewData, elIndex: number): ViewContainerRef {\n  return new ViewContainerRef_(view, elIndex);\n}\nclass ViewContainerRef_ implements ViewContainerRef {\nprivate _data: ElementData;\n/**\n * @param {?} _view\n * @param {?} _elIndex\n */\nconstructor(private _view: ViewData,\nprivate _elIndex: number) {\n    this._data = asElementData(_view, _elIndex);\n  }\n/**\n * @return {?}\n */\nget element(): ElementRef { return new ElementRef(this._data.renderElement); }\n/**\n * @return {?}\n */\nget injector(): Injector { return new Injector_(this._view, this._elIndex); }\n/**\n * @return {?}\n */\nget parentInjector(): Injector {\n    let /** @type {?} */ view = this._view;\n    let /** @type {?} */ elIndex = view.def.nodes[this._elIndex].parent;\n    while (elIndex == null && view) {\n      elIndex = parentDiIndex(view);\n      view = view.parent;\n    }\n    return view ? new Injector_(view, elIndex) : this._view.root.injector;\n  }\n/**\n * @return {?}\n */\nclear(): void {\n    const /** @type {?} */ len = this._data.embeddedViews.length;\n    for (let /** @type {?} */ i = len - 1; i >= 0; i--) {\n      const /** @type {?} */ view = Services.detachEmbeddedView(this._data, i);\n      Services.destroyView(view);\n    }\n  }\n/**\n * @param {?} index\n * @return {?}\n */\nget(index: number): ViewRef { return new ViewRef_(this._data.embeddedViews[index]); }\n/**\n * @return {?}\n */\nget length(): number { return this._data.embeddedViews.length; };\n/**\n * @param {?} templateRef\n * @param {?=} context\n * @param {?=} index\n * @return {?}\n */\ncreateEmbeddedView<C>(templateRef: TemplateRef<C>, context?: C, index?: number):\n      EmbeddedViewRef<C> {\n    const /** @type {?} */ viewRef = templateRef.createEmbeddedView(context);\n    this.insert(viewRef, index);\n    return viewRef;\n  }\n/**\n * @param {?} componentFactory\n * @param {?=} index\n * @param {?=} injector\n * @param {?=} projectableNodes\n * @return {?}\n */\ncreateComponent<C>(\n      componentFactory: ComponentFactory<C>, index?: number, injector?: Injector,\n      projectableNodes?: any[][]): ComponentRef<C> {\n    const /** @type {?} */ contextInjector = injector || this.parentInjector;\n    const /** @type {?} */ componentRef = componentFactory.create(contextInjector, projectableNodes);\n    this.insert(componentRef.hostView, index);\n    return componentRef;\n  }\n/**\n * @param {?} viewRef\n * @param {?=} index\n * @return {?}\n */\ninsert(viewRef: ViewRef, index?: number): ViewRef {\n    const /** @type {?} */ viewData = ( /** @type {?} */((<ViewRef_>viewRef)))._view;\n    Services.attachEmbeddedView(this._data, index, viewData);\n    return viewRef;\n  }\n/**\n * @param {?} viewRef\n * @param {?} currentIndex\n * @return {?}\n */\nmove(viewRef: ViewRef_, currentIndex: number): ViewRef {\n    const /** @type {?} */ previousIndex = this._data.embeddedViews.indexOf(viewRef._view);\n    Services.moveEmbeddedView(this._data, previousIndex, currentIndex);\n    return viewRef;\n  }\n/**\n * @param {?} viewRef\n * @return {?}\n */\nindexOf(viewRef: ViewRef): number {\n    return this._data.embeddedViews.indexOf(( /** @type {?} */((<ViewRef_>viewRef)))._view);\n  }\n/**\n * @param {?=} index\n * @return {?}\n */\nremove(index?: number): void {\n    const /** @type {?} */ viewData = Services.detachEmbeddedView(this._data, index);\n    Services.destroyView(viewData);\n  }\n/**\n * @param {?=} index\n * @return {?}\n */\ndetach(index?: number): ViewRef {\n    const /** @type {?} */ view = this.get(index);\n    Services.detachEmbeddedView(this._data, index);\n    return view;\n  }\n}\n\nfunction ViewContainerRef__tsickle_Closure_declarations() {\n/** @type {?} */\nViewContainerRef_.prototype._data;\n/** @type {?} */\nViewContainerRef_.prototype._view;\n/** @type {?} */\nViewContainerRef_.prototype._elIndex;\n}\n\n/**\n * @param {?} view\n * @return {?}\n */\nexport function createChangeDetectorRef(view: ViewData): ChangeDetectorRef {\n  return new ViewRef_(view);\n}\nclass ViewRef_ implements EmbeddedViewRef<any> {\n  /** @internal */\n  _view: ViewData;\n/**\n * @param {?} _view\n */\nconstructor(_view: ViewData) { this._view = _view; }\n/**\n * @return {?}\n */\nget rootNodes(): any[] { return rootRenderNodes(this._view); }\n/**\n * @return {?}\n */\nget context() { return this._view.context; }\n/**\n * @return {?}\n */\nget destroyed(): boolean { return (this._view.state & ViewState.Destroyed) !== 0; }\n/**\n * @return {?}\n */\nmarkForCheck(): void { this.reattach(); }\n/**\n * @return {?}\n */\ndetach(): void { this._view.state &= ~ViewState.ChecksEnabled; }\n/**\n * @return {?}\n */\ndetectChanges(): void { Services.checkAndUpdateView(this._view); }\n/**\n * @return {?}\n */\ncheckNoChanges(): void { Services.checkNoChangesView(this._view); }\n/**\n * @return {?}\n */\nreattach(): void { this._view.state |= ViewState.ChecksEnabled; }\n/**\n * @param {?} callback\n * @return {?}\n */\nonDestroy(callback: Function) { this._view.disposables.push( /** @type {?} */((<any>callback))); }\n/**\n * @return {?}\n */\ndestroy() { Services.destroyView(this._view); }\n}\n\nfunction ViewRef__tsickle_Closure_declarations() {\n/**\n * \\@internal\n * @type {?}\n */\nViewRef_.prototype._view;\n}\n\n/**\n * @param {?} view\n * @param {?} def\n * @return {?}\n */\nexport function createTemplateRef(view: ViewData, def: NodeDef): TemplateRef<any> {\n  return new TemplateRef_(view, def);\n}\nclass TemplateRef_ implements TemplateRef<any> {\n/**\n * @param {?} _parentView\n * @param {?} _def\n */\nconstructor(private _parentView: ViewData,\nprivate _def: NodeDef) {}\n/**\n * @param {?} context\n * @return {?}\n */\ncreateEmbeddedView(context: any): EmbeddedViewRef<any> {\n    return new ViewRef_(Services.createEmbeddedView(this._parentView, this._def, context));\n  }\n/**\n * @return {?}\n */\nget elementRef(): ElementRef {\n    return new ElementRef(asElementData(this._parentView, this._def.index).renderElement);\n  }\n}\n\nfunction TemplateRef__tsickle_Closure_declarations() {\n/** @type {?} */\nTemplateRef_.prototype._parentView;\n/** @type {?} */\nTemplateRef_.prototype._def;\n}\n\n/**\n * @param {?} view\n * @param {?} elIndex\n * @return {?}\n */\nexport function createInjector(view: ViewData, elIndex: number): Injector {\n  return new Injector_(view, elIndex);\n}\nclass Injector_ implements Injector {\n/**\n * @param {?} view\n * @param {?} elIndex\n */\nconstructor(private view: ViewData,\nprivate elIndex: number) {}\n/**\n * @param {?} token\n * @param {?=} notFoundValue\n * @return {?}\n */\nget(token: any, notFoundValue: any = Injector.THROW_IF_NOT_FOUND): any {\n    return Services.resolveDep(\n        this.view, undefined, this.elIndex,\n        {flags: DepFlags.None, token, tokenKey: tokenKey(token)}, notFoundValue);\n  }\n}\n\nfunction Injector__tsickle_Closure_declarations() {\n/** @type {?} */\nInjector_.prototype.view;\n/** @type {?} */\nInjector_.prototype.elIndex;\n}\n\n"]}