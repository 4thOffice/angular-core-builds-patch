{"version":3,"sources":["../../../../../modules/@angular/core/src/view/util.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAEH,OAAO,EAAA,SAAE,EAAS,MAAA,oBAAA,CAAA;AAClB,OAAO,EAAA,YAAE,EAAa,YAAA,EAAa,MAAA,sCAAA,CAAA;AAGnC,OAAO,EAAA,cAAE,EAAc,MAAA,gBAAA,CAAA;AAMvB,OAAO,EAAA,2CAAE,EAA4C,gBAAA,EAAkB,kBAAA,EAAoB,qBAAA,EAAsB,MAAA,UAAA,CAAA;AACjH,OAAO,EAA4D,SAAA,EAAW,QAAA,EAAU,IAAA,EAAuD,SAAA,EAAW,SAAA,EAAW,aAAA,EAAe,cAAA,EAAgB,UAAA,EAAW,MAAA,SAAA,CAAA;AAC/M;;;;;;GAMG;AACH,MANC,8BAOG,QAAkB,EAAE,UAAe,EAAE,QAAgB,EAAE,KAAU;IACnE,IANI,CAAA;QAOF,QAAQ,CANC,mBAAC,CAON,UAAU,EANE,cAAA,mBAAe,CAAmB,QAAC,CAAQ,EAAC,EAAG,KAAA,GAAQ,KAAA,CAAM,QAAC,EAAQ,GAAI,IAAA,CAAK,CAAC;IAOlG,CAAC;IANC,KAAA,CAAA,CAAA,CAAQ,CAAC,CAAC,CAAA;QAOV,QAAQ,CANC,mBAAC,CAON,UAAU,EANE,cAAA,mBAAe,CAAmB,QAAC,CAAQ,EAAC,EAOxD,uDAAuD,CANC,CAAC;IAO/D,CAAC;AACH,CAAC;AAED,MAAM,gBAAgB,CANhB,iBAAA,GAAoB,UAAA,CAAW;AAOrC;;;GAGG;AACH,6BATC,KAAA;IAUC,MAAM,CATC,KAAA,CAAM,OAAC,CAAO,iBAAC,EAAkB,CAAA,GAAE,CAAS,KAAM,GAAA,GAAM,CAAA,CAAE,CAAC,CAAC,CAAC,WAAC,EAAW,CAAE,CAAC;AAUrF,CAAC;AACD;;;;;;GAMG;AACH,MAfC,gCAgBG,IAAc,EAAE,GAAY,EAAE,UAAkB,EAAE,KAAU;IAC9D,MAAM,gBAAgB,CAfhB,QAAA,GAAW,IAAA,CAAK,SAAC,CAAS,GAAC,CAAG,YAAC,GAAc,UAAA,CAAW,CAAC;IAgB/D,EAAE,CAAC,CAAC,CAfC,IAAC,CAAI,KAAC,GAAO,SAAA,CAAU,UAAC,CAAU,IAAI,CAAA,YAAE,CAAY,QAAC,EAAS,KAAA,CAAM,CAAC,CAAC,CAAA;QAgBzE,MAfM,2CAAA,CAgBF,IAAI,CAfC,kBAAC,CAAkB,IAAC,EAAK,GAAA,CAAI,KAAC,CAAK,EAAE,QAAA,EAAU,KAAA,EAgBpD,CAAC,IAfC,CAAI,KAAC,GAAO,SAAA,CAAU,UAAC,CAAU,KAAK,CAAA,CAAE,CAAC;IAgBjD,CAAC;AACH,CAAC;AACD;;;;;;GAMG;AACH,MArBC,gCAsBG,IAAc,EAAE,GAAY,EAAE,UAAkB,EAAE,KAAU;IAC9D,MAAM,gBAAgB,CArBhB,SAAA,GAAY,IAAA,CAAK,SAAC,CAAS;IAsBjC,EAAE,CAAC,CAAC,CArBC,IAAC,CAAI,KAAC,GAAO,SAAA,CAAU,UAAC,CAAU;QAsBnC,CAAC,cArBC,CAAc,SAAC,CAAS,GAAC,CAAG,YAAC,GAAc,UAAA,CAAW,EAAE,KAAA,CAAM,CAAC,CAAC,CAAA;QAsBpE,SAAS,CArBC,GAAC,CAAG,YAAC,GAAc,UAAA,CAAW,GAAG,KAAA,CAAM;QAsBjD,EAAE,CAAC,CAAC,GArBC,CAAG,KAAC,GAAO,SAAA,CAAU,YAAC,CAAY,CAAC,CAAA;YAsBtC,MAAM,gBAAgB,CArBhB,QAAA,GAAW,cAAA,CAAe,IAAC,EAAK,GAAA,CAAI,KAAC,CAAK,CAAC,aAAC,CAAa;YAsB/D,EAAE,CAAC,CAAC,QArBC,CAAQ,GAAC,CAAG,KAAC,GAAO,SAAA,CAAU,MAAC,CAAM,CAAC,CAAA;gBAsBzC,QAAQ,CArBC,KAAC,IAAQ,SAAA,CAAU,aAAC,CAAa;YAsB5C,CAAC;QACH,CAAC;QACD,MAAM,CArBC,IAAA,CAAK;IAsBd,CAAC;IACD,MAAM,CArBC,KAAA,CAAM;AAsBf,CAAC;AACD;;;;;;GAMG;AACH,MA3BC,wBA4BG,IAAc,EAAE,SAAiB,EAAE,SAAiB,EAAE,KAAU;IAClE,cAAc,CA3BC,IAAC,EAAK,SAAA,CAAU,CAAC;IA4BhC,IAAI,gBAAgB,CA3BhB,QAAA,GAAW,IAAA,CAAK;IA4BpB,OAAO,QA3BC,EAAS,CAAA;QA4Bf,EAAE,CAAC,CAAC,QA3BC,CAAQ,GAAC,CAAG,KAAC,GAAO,SAAA,CAAU,MAAC,CAAM,CAAC,CAAA;YA4BzC,QAAQ,CA3BC,KAAC,IAAQ,SAAA,CAAU,aAAC,CAAa;QA4B5C,CAAC;QACD,QAAQ,GA3BG,QAAA,CAAS,MAAC,CAAM;IA4B7B,CAAC;IACD,MAAM,CA3BC,IAAA,CAAK,GAAC,CAAG,WAAC,CAAW,IAAC,EAAK,SAAA,EAAW,SAAA,EAAW,KAAA,CAAM,CAAC;AA4BjE,CAAC;AACD;;;GAGG;AACH,MA9BC,sBAAA,KAAA;IA+BC,EAAE,CAAC,CAAC,KA9BC,YAAgB,YAAA,CAAa,CAAC,CAAA;QA+BjC,KAAK,GA9BG,KAAA,CAAM,OAAC,CAAO;IA+BxB,CAAC;IACD,MAAM,CA9BC,KAAA,CAAM;AA+Bf,CAAC;AACD;;;GAGG;AACH,MAjCC,gCAAA,IAAA;IAkCC,EAAE,CAAC,CAAC,IAjCC,CAAI,MAAC,CAAM,CAAC,CAAA;QAkCf,MAAM,gBAAgB,CAjChB,UAAA,GAAa,IAAA,CAAK,MAAC,CAAM;QAkC/B,MAAM,CAjCC,aAAA,CAAc,UAAC,EAAW,IAAA,CAAK,WAAC,CAAW,CAAC;IAkCrD,CAAC;IACD,MAAM,CAjCC,SAAA,CAAU;AAkCnB,CAAC;AACD;;;;;;GAMG;AACH,MAlCC,wBAAA,IAAA;IAmCC,EAAE,CAAC,CAAC,IAlCC,CAAI,MAAC,CAAM,CAAC,CAAA;QAmCf,MAAM,gBAAgB,CAlChB,aAAA,GAAgB,IAAA,CAAK,GAAC,CAAG,KAAC,CAAK,IAAC,CAAI,WAAC,CAAW,CAAC;QAmCvD,MAAM,CAlCC,aAAA,CAAc,OAAC,IAAU,aAAA,CAAc,OAAC,CAAO,QAAC,GAAU,aAAA,CAAc,MAAC;YAmCf,aAAa,CAlCC,KAAC,CAAK;IAmCvF,CAAC;IACD,MAAM,CAlCC,IAAA,CAAK,WAAC,CAAW;AAmC1B,CAAC;AACD;;;;GAIG;AACH,MAtCC,yBAAA,IAAA,EAAA,SAAA;IAuCC,MAAM,gBAAgB,CAtChB,OAAA,GAAU,IAAA,CAAK,GAAC,CAAG;IAuCzB,IAAI,gBAAgB,CAtChB,OAAA,GAAU,OAAA,CAAQ,KAAC,CAAK,SAAC,CAAS,CAAC;IAuCvC,OAAO,OAtCC,EAAQ,CAAA;QAuCd,EAAE,CAAC,CAAC,OAtCC,CAAO,IAAC,KAAQ,QAAA,CAAS,OAAC,CAAO,CAAC,CAAA;YAuCrC,MAAM,CAtCC,OAAA,CAAQ;QAuCjB,CAAC;QACD,OAAO,GAtCG,OAAA,CAAQ,MAAC,IAAS,IAAA,GAAO,OAAA,CAAQ,KAAC,CAAK,OAAC,CAAO,MAAC,CAAM,GAAG,SAAA,CAAU;IAuC/E,CAAC;IACD,MAAM,CAtCC,SAAA,CAAU;AAuCnB,CAAC;AACD;;;;GAIG;AACH,MA1CC,qBAAA,IAAA,EAAA,GAAA;IA2CC,MAAM,CAAC,CAAC,GA1CC,CAAG,IAAC,CAAI,CAAC,CAAA;QA2ChB,KA1CK,QAAA,CAAS,OAAC;YA2Cb,MAAM,CA1CC,aAAA,CAAc,IAAC,EAAK,GAAA,CAAI,KAAC,CAAK,CAAC,aAAC,CAAa;QA2CtD,KA1CK,QAAA,CAAS,IAAC;YA2Cb,MAAM,CA1CC,UAAA,CAAW,IAAC,EAAK,GAAA,CAAI,KAAC,CAAK,CAAC,UAAC,CAAU;IA2ClD,CAAC;AACH,CAAC;AACD;;;GAGG;AACH,MA7CC,0BAAA,IAAA;IA8CC,MAAM,CA7CC,IAAA,CAAK,SAAC,KAAa,IAAA,CAAK,OAAC,IAAU,CAAA,CAAE,IAAC,CAAI,MAAC,CAAM;AA8C1D,CAAC;AAED,MAAM,gBAAgB,CA7ChB,qBAAA,GAAwB,IAAI,OAAA,EAA4B,CAAG;AA8CjE;;;GAGG;AACH,MAhDC,gCAAA,OAAA;IAiDC,IAAI,gBAAgB,CAhDhB,KAAA,GAAwB,qBAAA,CAAsB,GAAC,CAAG,OAAC,CAAO,CAAC;IAiD/D,EAAE,CAAC,CAAC,CAhDC,KAAC,CAAK,CAAC,CAAA;QAiDV,KAAK,GAhDG,OAAA,EAAQ,CAAE;QAiDlB,qBAAqB,CAhDC,GAAC,CAAG,OAAC,EAAQ,KAAA,CAAM,CAAC;IAiD5C,CAAC;IACD,MAAM,CAhDC,KAAA,CAAM;AAiDf,CAAC;AACD;;;;GAIG;AACH,MApDC,0BAAA,KAAA,EAAA,GAAA;IAqDC,IAAI,gBAAgB,CApDhB,GAAK,CAAI;IAqDb,IApDI,CAAA;QAqDF,MApDM,IAAI,KAAA,EAAM,CAAE;IAqDpB,CAAC;IApDC,KAAA,CAAA,CAAA,CAAQ,CAAC,CAAC,CAAA;QAqDV,GAAG,GApDG,CAAA,CAAE;IAqDV,CAAC;IACD,MAAM,gBAAgB,CApDhB,KAAA,GAAQ,GAAA,CAAI,KAAC,IAAQ,EAAA,CAAG;IAqD9B,MAAM,gBAAgB,CApDhB,KAAA,GAAQ,KAAA,CAAM,KAAC,CAAK,IAAC,CAAI,CAAC;IAqDhC,EAAE,CAAC,CAAC,KApDC,CAAK,CAAC,CAAC,CAAC,UAAC,CAAU,OAAC,CAAO,CAAC,CAAC,CAAA;QAqDhC,yDAAyD;QACzD,KAAK,EApDC,CAAE;QAqDR,GAAG,EApDC,CAAE;IAqDR,CAAC;IACD,MAAM,CApDC,KAAA,CAAM,KAAC,CAAK,KAAC,EAAM,GAAA,CAAI,CAAC,IAAC,CAAI,IAAC,CAAI,CAAC;AAqD5C,CAAC;AAED,IAAI,gBAAgB,CApDhB,cAAgB,CAAY;AAqDhC,IAAI,gBAAgB,CApDhB,YAAc,CAAS;AAqD3B,IAAI,gBAAgB,CApDhB,iBAAmB,CAAO;AAqD9B;;GAEG;AACH,MAtDC;IAuDC,MAAM,CAtDC,YAAA,CAAa;AAuDtB,CAAC;AACD;;GAEG;AACH,MAxDC;IAyDC,MAAM,CAxDC,iBAAA,CAAkB;AAyD3B,CAAC;AACD;;GAEG;AACH,MA1DC;IA2DC,MAAM,CA1DC,cAAA,CAAe;AA2DxB,CAAC;AACD;;;;;;;GAOG;AACH,MA5DC,yBAAA,IAAA,EAAA,SAAA;IA6DC,EAAE,CAAC,CAAC,IA5DC,CAAI,KAAC,GAAO,SAAA,CAAU,SAAC,CAAS,CAAC,CAAA;QA6DpC,MA5DM,kBAAA,CAAmB,cAAC,CAAc,CAAC;IA6D3C,CAAC;IACD,YAAY,GA5DG,IAAA,CAAK;IA6DpB,iBAAiB,GA5DG,SAAA,CAAU;AA6DhC,CAAC;AACD;;;;;;;GAOG;AACH,MA9DC,sBAAA,MAAA,EAAA,EAAA;IA+DC,MAAM,CAAiB,CA9DX,UAAC,GAAa;QA+DxB,MAAM,gBAAgB,CA9DhB,SAAA,GAAY,cAAA,CAAe;QA+DjC,MAAM,gBAAgB,CA9DhB,OAAA,GAAU,YAAA,CAAa;QA+D7B,MAAM,gBAAgB,CA9DhB,YAAA,GAAe,iBAAA,CAAkB;QA+DvC,cAAc,GA9DG,MAAA,CAAO;QA+DxB,+DAA+D;QAC/D,sCAAsC;QACtC,MAAM,gBAAgB,CA9DhB,MAAA,GAAS,SAAA,EAAU,GAAI,gBAAA,CAAiB,EAAC,EAAG,GAAA,CAAI,GAAG,EAAA,CAAG,GAAC,CAAG,CAAC;QA+DjE,cAAc,GA9DG,SAAA,CAAU;QA+D3B,YAAY,GA9DG,OAAA,CAAQ;QA+DvB,iBAAiB,GA9DG,YAAA,CAAa;QA+DjC,MAAM,CA9DC,MAAA,CAAO;IA+DhB,CAAE,CAAC,CA9DD;AA+DJ,CAAC;AACD;;;;GAIG;AACH,0BAlEC,EAAA,EAAA,GAAA;IAmEC,IAlEI,CAAA;QAmEF,MAAM,CAlEC,EAAA,CAAG,GAAC,CAAG,CAAC;IAmEjB,CAAC;IAlEC,KAAA,CAAA,CAAA,CAAQ,CAAC,CAAC,CAAA;QAmEV,EAAE,CAAC,CAAC,gBAlEC,CAAgB,CAAC,CAAC,IAAI,CAAA,YAAE,CAAY,CAAC,CAAA;YAmExC,MAlEM,CAAA,CAAE;QAmEV,CAAC;QACD,MAAM,gBAAgB,CAlEhB,YAAA,GAAe,IAAA,CAAK,kBAAC,CAAkB,YAAC,EAAa,iBAAA,CAAkB,CAAC;QAmE9E,MAlEM,qBAAA,CAAsB,CAAC,EAAE,YAAA,CAAa,CAAC;IAmE/C,CAAC;AACH,CAAC;AACD;;;GAGG;AACH,MArEC,0BAAA,IAAA;IAsEC,MAAM,gBAAgB,CArEhB,WAAA,GAAqB,EAAA,CAAG;IAsE9B,oBAAoB,CArEC,IAAC,EAAK,gBAAA,CAAiB,OAAC,EAAQ,SAAA,EAAW,SAAA,EAAW,WAAA,CAAY,CAAC;IAsExF,MAAM,CArEC,WAAA,CAAY;AAsErB,CAAC;AAED,MAAM,CAAC,IAAI,gBAAgB,GAAQ,EAAE,CAAC;AACtC,gBAAgB,CAAC,OAAO,GAAG,CAAC,CAAC;AAC7B,gBAAgB,CAAC,WAAW,GAAG,CAAC,CAAC;AACjC,gBAAgB,CAAC,YAAY,GAAG,CAAC,CAAC;AAClC,gBAAgB,CAAC,WAAW,GAAG,CAAC,CAAC;AACjC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC;AACvD,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,aAAa,CAAC;AAC/D,gBAAgB,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG,cAAc,CAAC;AACjE,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,aAAa,CAAC;AAE/D;;;;;;;GAOG;AACH,MAhFC,+BAiFG,IAAc,EAAE,MAAwB,EAAE,UAAe,EAAE,WAAgB,EAAE,MAAa;IAC5F,MAAM,gBAAgB,CAhFhB,GAAA,GAAM,IAAA,CAAK,GAAC,CAAG,KAAC,CAAK,MAAC,CAAM;IAiFlC,GAAG,CAAC,CAAC,IAhFC,gBAAA,CAAG,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,GAAA,EAAK,CAAA,EAAE,EAAG,CAAA;QAiF5B,MAAM,gBAAgB,CAhFhB,OAAA,GAAU,IAAA,CAAK,GAAC,CAAG,KAAC,CAAK,CAAC,CAAC,CAAC;QAiFlC,eAAe,CAhFC,IAAC,EAAK,OAAA,EAAS,MAAA,EAAQ,UAAA,EAAY,WAAA,EAAa,MAAA,CAAO,CAAC;QAiFxE,uBAAuB;QACvB,CAAC,IAhFI,OAAA,CAAQ,UAAC,CAAU;IAiF1B,CAAC;AACH,CAAC;AACD;;;;;;;;GAQG;AACH,MAxFC,oCAyFG,IAAc,EAAE,cAAsB,EAAE,MAAwB,EAAE,UAAe,EACjF,WAAgB,EAAE,MAAa;IACjC,IAAI,gBAAgB,CAxFhB,QAAA,GAAW,IAAA,CAAK;IAyFpB,OAAO,QAxFC,IAAW,CAAA,eAAE,CAAe,QAAC,CAAQ,EAAE,CAAA;QAyF7C,QAAQ,GAxFG,QAAA,CAAS,MAAC,CAAM;IAyF7B,CAAC;IACD,MAAM,gBAAgB,CAxFhB,QAAA,GAAW,QAAA,CAAS,MAAC,CAAM;IAyFjC,MAAM,gBAAgB,CAxFhB,SAAA,GAAY,QAAA,CAAS,GAAC,CAAG,KAAC,CAAK,QAAC,CAAQ,WAAC,CAAW,CAAC;IAyF3D,MAAM,gBAAgB,CAxFhB,UAAA,GAAa,SAAA,CAAU,KAAC,GAAO,CAAA,CAAE;IAyFvC,MAAM,gBAAgB,CAxFhB,QAAA,GAAW,SAAA,CAAU,KAAC,GAAO,SAAA,CAAU,UAAC,CAAU;IAyFxD,GAAG,CAAC,CAAC,IAxFC,gBAAA,CAAG,CAAA,GAAI,UAAA,EAAY,CAAA,IAAK,QAAA,EAAU,CAAA,EAAE,EAAG,CAAA;QAyF3C,MAAM,gBAAgB,CAxFhB,OAAA,GAAU,QAAA,CAAS,GAAC,CAAG,KAAC,CAAK,CAAC,CAAC,CAAC;QAyFtC,EAAE,CAAC,CAAC,OAxFC,CAAO,cAAC,KAAkB,cAAA,CAAe,CAAC,CAAA;YAyF7C,eAAe,CAxFC,QAAC,EAAS,OAAA,EAAS,MAAA,EAAQ,UAAA,EAAY,WAAA,EAAa,MAAA,CAAO,CAAC;QAyF9E,CAAC;QACD,uBAAuB;QACvB,CAAC,IAxFI,OAAA,CAAQ,UAAC,CAAU;IAyF1B,CAAC;IACD,EAAE,CAAC,CAAC,CAxFC,QAAC,CAAQ,MAAC,CAAM,CAAC,CAAA;QAyFpB,cAAc;QACd,MAAM,gBAAgB,CAxFhB,cAAA,GAAiB,IAAA,CAAK,IAAC,CAAI,gBAAC,CAAgB,cAAC,CAAc,CAAC;QAyFlE,EAAE,CAAC,CAAC,cAxFC,CAAc,CAAC,CAAA;YAyFlB,GAAG,CAAC,CAAC,IAxFC,gBAAA,CAAG,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,cAAA,CAAe,MAAC,EAAO,CAAA,EAAE,EAAG,CAAA;gBAyF9C,oBAAoB,CAxFC,cAAC,CAAc,CAAC,CAAC,EAAE,MAAA,EAAQ,UAAA,EAAY,WAAA,EAAa,MAAA,CAAO,CAAC;YAyFnF,CAAC;QACH,CAAC;IACH,CAAC;AACH,CAAC;AACD;;;;;;;;GAQG;AACH,yBACI,IAAc,EAAE,OAAgB,EAAE,MAAwB,EAAE,UAAe,EAAE,WAAgB,EAC7F,MAAa;IACf,EAAE,CAAC,CAAC,OAhGC,CAAO,IAAC,KAAQ,QAAA,CAAS,SAAC,CAAS,CAAC,CAAA;QAiGvC,yBAAyB,CACrB,IAAI,EAhGE,OAAA,CAAQ,SAAC,CAAS,KAAC,EAAM,MAAA,EAAQ,UAAA,EAAY,WAAA,EAAa,MAAA,CAAO,CAAC;IAiG9E,CAAC;IAhGC,IAAA,CAAK,CAAA;QAiGL,MAAM,gBAAgB,CAhGhB,EAAA,GAAK,UAAA,CAAW,IAAC,EAAK,OAAA,CAAQ,CAAC;QAiGrC,oBAAoB,CAhGC,EAAC,EAAG,MAAA,EAAQ,UAAA,EAAY,WAAA,EAAa,MAAA,CAAO,CAAC;QAiGlE,EAAE,CAAC,CAAC,OAhGC,CAAO,KAAC,GAAO,SAAA,CAAU,gBAAC,CAAgB,CAAC,CAAA;YAiG9C,MAAM,gBAAgB,CAhGhB,aAAA,GAAgB,aAAA,CAAc,IAAC,EAAK,OAAA,CAAQ,KAAC,CAAK,CAAC,aAAC,CAAa;YAiGvE,EAAE,CAAC,CAAC,aAhGC,CAAa,CAAC,CAAA;gBAiGjB,GAAG,CAAC,CAAC,IAhGC,gBAAA,CAAG,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,aAAA,CAAc,MAAC,EAAO,CAAA,EAAE,EAAG,CAAA;oBAiG7C,oBAAoB,CAhGC,aAAC,CAAa,CAAC,CAAC,EAAE,MAAA,EAAQ,UAAA,EAAY,WAAA,EAAa,MAAA,CAAO,CAAC;gBAiGlF,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;AACH,CAAC;AACD;;;;;;;GAOG;AACH,8BACI,UAAe,EAAE,MAAwB,EAAE,UAAe,EAAE,WAAgB,EAAE,MAAa;IAC7F,MAAM,CAAC,CAAC,MAvGC,CAAM,CAAC,CAAA;QAwGd,KAvGK,gBAAA,CAAiB,WAAC;YAwGrB,UAAU,CAvGC,WAAC,CAAW,UAAC,CAAU,CAAC;YAwGnC,KAAK,CAAC;QACR,KAvGK,gBAAA,CAAiB,YAAC;YAwGrB,UAAU,CAvGC,YAAC,CAAY,UAAC,EAAW,WAAA,CAAY,CAAC;YAwGjD,KAAK,CAAC;QACR,KAvGK,gBAAA,CAAiB,WAAC;YAwGrB,UAAU,CAvGC,WAAC,CAAW,UAAC,CAAU,CAAC;YAwGnC,KAAK,CAAC;QACR,KAvGK,gBAAA,CAAiB,OAAC;YAwGrB,MAAM,CAvGC,IAAC,CAAI,UAAC,CAAU,CAAC;YAwGxB,KAAK,CAAC;IACV,CAAC;AACH,CAAC","file":"util.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {isDevMode} from '../application_ref';\nimport {WrappedValue, devModeEqual} from '../change_detection/change_detection';\nimport {SimpleChange} from '../change_detection/change_detection_util';\nimport {Injector} from '../di';\nimport {looseIdentical} from '../facade/lang';\nimport {TemplateRef} from '../linker/template_ref';\nimport {ViewContainerRef} from '../linker/view_container_ref';\nimport {ViewRef} from '../linker/view_ref';\nimport {Renderer} from '../render/api';\n\nimport {expressionChangedAfterItHasBeenCheckedError, isViewDebugError, viewDestroyedError, viewWrappedDebugError} from './errors';\nimport {DebugContext, ElementData, EntryAction, NodeData, NodeDef, NodeFlags, NodeType, Refs, ViewData, ViewDefinition, ViewDefinitionFactory, ViewFlags, ViewState, asElementData, asProviderData, asTextData} from './types';\n/**\n * @param {?} renderer\n * @param {?} renderNode\n * @param {?} propName\n * @param {?} value\n * @return {?}\n */\nexport function setBindingDebugInfo(\n    renderer: Renderer, renderNode: any, propName: string, value: any) {\n  try {\n    renderer.setBindingDebugInfo(\n        renderNode, `ng-reflect-${camelCaseToDashCase(propName)}`, value ? value.toString() : null);\n  } catch ( /** @type {?} */e) {\n    renderer.setBindingDebugInfo(\n        renderNode, `ng-reflect-${camelCaseToDashCase(propName)}`,\n        '[ERROR] Exception while trying to serialize the value');\n  }\n}\n\nconst /** @type {?} */ CAMEL_CASE_REGEXP = /([A-Z])/g;\n/**\n * @param {?} input\n * @return {?}\n */\nfunction camelCaseToDashCase(input: string): string {\n  return input.replace(CAMEL_CASE_REGEXP, (...m: any[]) => '-' + m[1].toLowerCase());\n}\n/**\n * @param {?} view\n * @param {?} def\n * @param {?} bindingIdx\n * @param {?} value\n * @return {?}\n */\nexport function checkBindingNoChanges(\n    view: ViewData, def: NodeDef, bindingIdx: number, value: any) {\n  const /** @type {?} */ oldValue = view.oldValues[def.bindingIndex + bindingIdx];\n  if ((view.state & ViewState.FirstCheck) || !devModeEqual(oldValue, value)) {\n    throw expressionChangedAfterItHasBeenCheckedError(\n        Refs.createDebugContext(view, def.index), oldValue, value,\n        (view.state & ViewState.FirstCheck) !== 0);\n  }\n}\n/**\n * @param {?} view\n * @param {?} def\n * @param {?} bindingIdx\n * @param {?} value\n * @return {?}\n */\nexport function checkAndUpdateBinding(\n    view: ViewData, def: NodeDef, bindingIdx: number, value: any): boolean {\n  const /** @type {?} */ oldValues = view.oldValues;\n  if ((view.state & ViewState.FirstCheck) ||\n      !looseIdentical(oldValues[def.bindingIndex + bindingIdx], value)) {\n    oldValues[def.bindingIndex + bindingIdx] = value;\n    if (def.flags & NodeFlags.HasComponent) {\n      const /** @type {?} */ compView = asProviderData(view, def.index).componentView;\n      if (compView.def.flags & ViewFlags.OnPush) {\n        compView.state |= ViewState.ChecksEnabled;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n/**\n * @param {?} view\n * @param {?} nodeIndex\n * @param {?} eventName\n * @param {?} event\n * @return {?}\n */\nexport function dispatchEvent(\n    view: ViewData, nodeIndex: number, eventName: string, event: any): boolean {\n  setCurrentNode(view, nodeIndex);\n  let /** @type {?} */ currView = view;\n  while (currView) {\n    if (currView.def.flags & ViewFlags.OnPush) {\n      currView.state |= ViewState.ChecksEnabled;\n    }\n    currView = currView.parent;\n  }\n  return view.def.handleEvent(view, nodeIndex, eventName, event);\n}\n/**\n * @param {?} value\n * @return {?}\n */\nexport function unwrapValue(value: any): any {\n  if (value instanceof WrappedValue) {\n    value = value.wrapped;\n  }\n  return value;\n}\n/**\n * @param {?} view\n * @return {?}\n */\nexport function declaredViewContainer(view: ViewData): ElementData {\n  if (view.parent) {\n    const /** @type {?} */ parentView = view.parent;\n    return asElementData(parentView, view.parentIndex);\n  }\n  return undefined;\n}\n/**\n * for component views, this is the same as parentIndex.\n * for embedded views, this is the index of the parent node\n * that contains the view container.\n * @param {?} view\n * @return {?}\n */\nexport function parentDiIndex(view: ViewData): number {\n  if (view.parent) {\n    const /** @type {?} */ parentNodeDef = view.def.nodes[view.parentIndex];\n    return parentNodeDef.element && parentNodeDef.element.template ? parentNodeDef.parent :\n                                                                     parentNodeDef.index;\n  }\n  return view.parentIndex;\n}\n/**\n * @param {?} view\n * @param {?} nodeIndex\n * @return {?}\n */\nexport function findElementDef(view: ViewData, nodeIndex: number): NodeDef {\n  const /** @type {?} */ viewDef = view.def;\n  let /** @type {?} */ nodeDef = viewDef.nodes[nodeIndex];\n  while (nodeDef) {\n    if (nodeDef.type === NodeType.Element) {\n      return nodeDef;\n    }\n    nodeDef = nodeDef.parent != null ? viewDef.nodes[nodeDef.parent] : undefined;\n  }\n  return undefined;\n}\n/**\n * @param {?} view\n * @param {?} def\n * @return {?}\n */\nexport function renderNode(view: ViewData, def: NodeDef): any {\n  switch (def.type) {\n    case NodeType.Element:\n      return asElementData(view, def.index).renderElement;\n    case NodeType.Text:\n      return asTextData(view, def.index).renderText;\n  }\n}\n/**\n * @param {?} view\n * @return {?}\n */\nexport function isComponentView(view: ViewData): boolean {\n  return view.component === view.context && !!view.parent;\n}\n\nconst /** @type {?} */ VIEW_DEFINITION_CACHE = new WeakMap<any, ViewDefinition>();\n/**\n * @param {?} factory\n * @return {?}\n */\nexport function resolveViewDefinition(factory: ViewDefinitionFactory): ViewDefinition {\n  let /** @type {?} */ value: ViewDefinition = VIEW_DEFINITION_CACHE.get(factory);\n  if (!value) {\n    value = factory();\n    VIEW_DEFINITION_CACHE.set(factory, value);\n  }\n  return value;\n}\n/**\n * @param {?} start\n * @param {?} end\n * @return {?}\n */\nexport function sliceErrorStack(start: number, end: number): string {\n  let /** @type {?} */ err: any;\n  try {\n    throw new Error();\n  } catch ( /** @type {?} */e) {\n    err = e;\n  }\n  const /** @type {?} */ stack = err.stack || '';\n  const /** @type {?} */ lines = stack.split('\\n');\n  if (lines[0].startsWith('Error')) {\n    // Chrome always adds the message to the stack as well...\n    start++;\n    end++;\n  }\n  return lines.slice(start, end).join('\\n');\n}\n\nlet /** @type {?} */ _currentAction: EntryAction;\nlet /** @type {?} */ _currentView: ViewData;\nlet /** @type {?} */ _currentNodeIndex: number;\n/**\n * @return {?}\n */\nexport function currentView() {\n  return _currentView;\n}\n/**\n * @return {?}\n */\nexport function currentNodeIndex() {\n  return _currentNodeIndex;\n}\n/**\n * @return {?}\n */\nexport function currentAction() {\n  return _currentAction;\n}\n/**\n * Set the node that is currently worked on.\n * It needs to be called whenever we call user code,\n * or code of the framework that might throw as a valid use case.\n * @param {?} view\n * @param {?} nodeIndex\n * @return {?}\n */\nexport function setCurrentNode(view: ViewData, nodeIndex: number) {\n  if (view.state & ViewState.Destroyed) {\n    throw viewDestroyedError(_currentAction);\n  }\n  _currentView = view;\n  _currentNodeIndex = nodeIndex;\n}\n/**\n * Adds a try/catch handler around the given function to wrap all\n * errors that occur into new errors that contain the current debug info\n * set via setCurrentNode.\n * @param {?} action\n * @param {?} fn\n * @return {?}\n */\nexport function entryAction<A, R>(action: EntryAction, fn: (arg: A) => R): (arg: A) => R {\n  return /** @type {?} */(( <any>function(arg: any) {\n    const /** @type {?} */ oldAction = _currentAction;\n    const /** @type {?} */ oldView = _currentView;\n    const /** @type {?} */ oldNodeIndex = _currentNodeIndex;\n    _currentAction = action;\n    // Note: We can't call `isDevMode()` outside of this closure as\n    // it might not have been initialized.\n    const /** @type {?} */ result = isDevMode() ? callWithTryCatch(fn, arg) : fn(arg);\n    _currentAction = oldAction;\n    _currentView = oldView;\n    _currentNodeIndex = oldNodeIndex;\n    return result;\n  }));\n}\n/**\n * @param {?} fn\n * @param {?} arg\n * @return {?}\n */\nfunction callWithTryCatch(fn: (a: any) => any, arg: any): any {\n  try {\n    return fn(arg);\n  } catch ( /** @type {?} */e) {\n    if (isViewDebugError(e) || !_currentView) {\n      throw e;\n    }\n    const /** @type {?} */ debugContext = Refs.createDebugContext(_currentView, _currentNodeIndex);\n    throw viewWrappedDebugError(e, debugContext);\n  }\n}\n/**\n * @param {?} view\n * @return {?}\n */\nexport function rootRenderNodes(view: ViewData): any[] {\n  const /** @type {?} */ renderNodes: any[] = [];\n  visitRootRenderNodes(view, RenderNodeAction.Collect, undefined, undefined, renderNodes);\n  return renderNodes;\n}\nexport type RenderNodeAction = number;\nexport let RenderNodeAction: any = {};\nRenderNodeAction.Collect = 0;\nRenderNodeAction.AppendChild = 1;\nRenderNodeAction.InsertBefore = 2;\nRenderNodeAction.RemoveChild = 3;\nRenderNodeAction[RenderNodeAction.Collect] = \"Collect\";\nRenderNodeAction[RenderNodeAction.AppendChild] = \"AppendChild\";\nRenderNodeAction[RenderNodeAction.InsertBefore] = \"InsertBefore\";\nRenderNodeAction[RenderNodeAction.RemoveChild] = \"RemoveChild\";\n\n/**\n * @param {?} view\n * @param {?} action\n * @param {?} parentNode\n * @param {?} nextSibling\n * @param {?} target\n * @return {?}\n */\nexport function visitRootRenderNodes(\n    view: ViewData, action: RenderNodeAction, parentNode: any, nextSibling: any, target: any[]) {\n  const /** @type {?} */ len = view.def.nodes.length;\n  for (let /** @type {?} */ i = 0; i < len; i++) {\n    const /** @type {?} */ nodeDef = view.def.nodes[i];\n    visitRenderNode(view, nodeDef, action, parentNode, nextSibling, target);\n    // jump to next sibling\n    i += nodeDef.childCount;\n  }\n}\n/**\n * @param {?} view\n * @param {?} ngContentIndex\n * @param {?} action\n * @param {?} parentNode\n * @param {?} nextSibling\n * @param {?} target\n * @return {?}\n */\nexport function visitProjectedRenderNodes(\n    view: ViewData, ngContentIndex: number, action: RenderNodeAction, parentNode: any,\n    nextSibling: any, target: any[]) {\n  let /** @type {?} */ compView = view;\n  while (compView && !isComponentView(compView)) {\n    compView = compView.parent;\n  }\n  const /** @type {?} */ hostView = compView.parent;\n  const /** @type {?} */ hostElDef = hostView.def.nodes[compView.parentIndex];\n  const /** @type {?} */ startIndex = hostElDef.index + 1;\n  const /** @type {?} */ endIndex = hostElDef.index + hostElDef.childCount;\n  for (let /** @type {?} */ i = startIndex; i <= endIndex; i++) {\n    const /** @type {?} */ nodeDef = hostView.def.nodes[i];\n    if (nodeDef.ngContentIndex === ngContentIndex) {\n      visitRenderNode(hostView, nodeDef, action, parentNode, nextSibling, target);\n    }\n    // jump to next sibling\n    i += nodeDef.childCount;\n  }\n  if (!hostView.parent) {\n    // a root view\n    const /** @type {?} */ projectedNodes = view.root.projectableNodes[ngContentIndex];\n    if (projectedNodes) {\n      for (let /** @type {?} */ i = 0; i < projectedNodes.length; i++) {\n        execRenderNodeAction(projectedNodes[i], action, parentNode, nextSibling, target);\n      }\n    }\n  }\n}\n/**\n * @param {?} view\n * @param {?} nodeDef\n * @param {?} action\n * @param {?} parentNode\n * @param {?} nextSibling\n * @param {?} target\n * @return {?}\n */\nfunction visitRenderNode(\n    view: ViewData, nodeDef: NodeDef, action: RenderNodeAction, parentNode: any, nextSibling: any,\n    target: any[]) {\n  if (nodeDef.type === NodeType.NgContent) {\n    visitProjectedRenderNodes(\n        view, nodeDef.ngContent.index, action, parentNode, nextSibling, target);\n  } else {\n    const /** @type {?} */ rn = renderNode(view, nodeDef);\n    execRenderNodeAction(rn, action, parentNode, nextSibling, target);\n    if (nodeDef.flags & NodeFlags.HasEmbeddedViews) {\n      const /** @type {?} */ embeddedViews = asElementData(view, nodeDef.index).embeddedViews;\n      if (embeddedViews) {\n        for (let /** @type {?} */ k = 0; k < embeddedViews.length; k++) {\n          visitRootRenderNodes(embeddedViews[k], action, parentNode, nextSibling, target);\n        }\n      }\n    }\n  }\n}\n/**\n * @param {?} renderNode\n * @param {?} action\n * @param {?} parentNode\n * @param {?} nextSibling\n * @param {?} target\n * @return {?}\n */\nfunction execRenderNodeAction(\n    renderNode: any, action: RenderNodeAction, parentNode: any, nextSibling: any, target: any[]) {\n  switch (action) {\n    case RenderNodeAction.AppendChild:\n      parentNode.appendChild(renderNode);\n      break;\n    case RenderNodeAction.InsertBefore:\n      parentNode.insertBefore(renderNode, nextSibling);\n      break;\n    case RenderNodeAction.RemoveChild:\n      parentNode.removeChild(renderNode);\n      break;\n    case RenderNodeAction.Collect:\n      target.push(renderNode);\n      break;\n  }\n}\n"]}